<!DOCTYPE html>
<html>
	<head>
		<title>Textual</title>
		<link rel="stylesheet" href="style.css?rnd=1">
		<link id="styleSheet" rel="stylesheet" href="Styles/Sky.css?rnd=1">
		<link rel="stylesheet" href="spinner.css?rnd=1">
		<script>
			var GLOBAL = {
				VERSION: "Beta 1.0"
			};
			var DEFAULTS = {
				THEME: "Sky"
			};
		</script>
	</head>
	<body>
		<div class="column">
			<div class="toolbar">
				<button onclick="aboutView.show()">About</button>
				<button onclick="settingsView.show()">Settings</button>
				<button onclick="saveView.show()">Save</button>
			</div>
			<div class="toolbar">
				<div class="row">
					<label class="center">Font Size</label>
					<select id="fontSizeSelect">
						<option value="12px">12px</option>
						<option value="24px">24px</option>
					</select>
				</div>
			</div>
		</div>
		<code><div id="editor" contenteditable="true"></div>
		</code>
		<!--
			Document view panes
		-->
		<div id="about_view_pane" class="view">
			<button onclick="aboutView.hide(document.getElementById('about_view_pane'), document.getElementById('disableInteractionsMesh'))" class="view-close-button close-button">Close</button>
			<h1 class="center">About</h1>
			<hr>
			<div id="about_view_pane_content" class="spinner"></div>
		</div>
		<div id="settings_view_pane" class="view">
			<button onclick="settingsView.hide(document.getElementById('settings_view_pane'),document.getElementById('disableInteractionsMesh'))" class="view-close-button close-button">Close</button>
			<h1 class="center">Settings</h1>
			<hr>
			<details>
				<summary>Version</summary>
				<p>You are using version <span id="versionLabel"></span>.</p>
				<div id="updateStatusOutput"></div>
			</details>
			<details>
				<summary>Theme</summary>
				<div class="row">
					<div class="column" class="center">
						<h3 id="themeLabel" class="center"></h3>
						<center>
							<svg width="10vw" height="10vh" xmlns="http://www.w3.org/2000/svg">
								<rect id="themeSample" width="100%" height="100%" style="fill: rgb(0, 0, 0);"></rect>
							</svg>
						</center>
					</div>
					<div class="column">
						<h3>Change Theme</h3>
						<select id="themeSelector">
							<option value="Sky">Sky</option>
						</select>
						<br>
						<button onclick="settings.setTheme(document.getElementById('themeSelector').value)">Save</button>
					</div>
				</div>
			</details>
			<details>
				<summary>Factory Reset</summary>
				<button onclick="factoryReset()" class="button-warning fill-w">Factory Reset</button>
			</details>
		</div>
		<div id="save_view_pane" class="view">
			<button onclick="saveView.hide(document.getElementById('save_view_pane'), document.getElementById('disableInteractionsMesh'))" class="view-close-button close-button">Close</button>
			<h1 class="center">Save</h1>
			<hr>
			<div>
				<p>Save as a file:</p>
				<button onclick="editor.save()">Save</button>
			</div>
			<div>
				<p>Export as:</p>
				<select id='fileExportTypeinput'>
					<option value='text/plain'>Plain Text</option>
					<option value="text/html">HTML</option>
				</select>
				<button onclick="editor.exportAs()">Export</button>
			</div>
		</div>
		<div class="disableInteractionsMesh" id="disableInteractionsMesh"></div>
		<div id="popups"></div>
		<!-- Scripts -->
		<script src="Scripts/themes.js"></script>
		<div id="themeScripts">
			<script src="Styles/Sky.js"></script>
		</div>
		<script src="Scripts/settings.js"></script>
		<script src="Scripts/base.js"></script>
		<script src="Scripts/fileExport.js"></script>
		<script src="Scripts/main.js"></script>
		<script>
			// Load defaults
			if (!localStorage.getItem("firstRun")) {
				localStorage.setItem("firstRun", "false");
				firstRun();
				console.log("First Run!");
			}
		</script>
	</body>
</html>